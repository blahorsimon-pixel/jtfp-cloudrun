# é‡‘æ³°èµ„äº§ä¸¥é€‰æˆ¿æºç³»ç»Ÿ

å®Œæ•´çš„æˆ¿æºç®¡ç†ä¸å±•ç¤ºç³»ç»Ÿï¼ŒåŒ…å«åç«¯APIã€WEBç®¡ç†åå°å’ŒH5ç§»åŠ¨ç«¯å•†åŸã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
jintai-property/
â”œâ”€â”€ server/          # åç«¯APIæœåŠ¡ (ç«¯å£6000)
â”œâ”€â”€ admin/           # WEBç®¡ç†åå° (ç«¯å£6001)
â”œâ”€â”€ h5/              # H5ç§»åŠ¨ç«¯å•†åŸ (ç«¯å£6002)
â”œâ”€â”€ ecosystem.config.js   # PM2éƒ¨ç½²é…ç½®
â”œâ”€â”€ deploy.sh        # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ nginx.conf.example    # Nginxé…ç½®ç¤ºä¾‹
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- MySQL >= 5.7
- Nginx (å·²é…ç½®HTTPS)
- PM2 (å¯é€‰ï¼Œç”¨äºç”Ÿäº§éƒ¨ç½²)

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰æ¨¡å—çš„ä¾èµ–
cd server && npm install && cd ..
cd admin && npm install && cd ..
cd h5 && npm install && cd ..
```

### 3. é…ç½®æ•°æ®åº“

```bash
# å¯¼å…¥æ•°æ®åº“è¡¨ç»“æ„
mysql -u root -p < server/database.sql

# é…ç½®ç¯å¢ƒå˜é‡
cd server
cp env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯
```

### 4. å¼€å‘æ¨¡å¼

```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd server && npm run dev

# ç»ˆç«¯2ï¼šå¯åŠ¨ç®¡ç†åå°
cd admin && npm run dev

# ç»ˆç«¯3ï¼šå¯åŠ¨H5å•†åŸ
cd h5 && npm run dev
```

è®¿é—®åœ°å€ï¼š
- åç«¯API: http://localhost:6000
- ç®¡ç†åå°: http://localhost:6001
- H5å•†åŸ: http://localhost:6002

### 5. ç”Ÿäº§éƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
./deploy.sh
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. æ„å»ºæ‰€æœ‰æ¨¡å—
cd server && npm run build && cd ..
cd admin && npm run build && cd ..
cd h5 && npm run build && cd ..

# 2. ä½¿ç”¨PM2å¯åŠ¨
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### 6. Nginxé…ç½®

å‚è€ƒ `nginx.conf.example` æ–‡ä»¶ï¼Œå°†é…ç½®æ·»åŠ åˆ°ç°æœ‰HTTPS serverå—ä¸­ï¼š

```bash
# ç¼–è¾‘Nginxé…ç½®
sudo nano /etc/nginx/sites-available/www.jintai.cloud

# æ·»åŠ  jintai-property ç›¸å…³çš„ location é…ç½®

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡è½½é…ç½®
sudo nginx -s reload
```

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

### åç«¯API (server/)
- âœ… 40å­—æ®µæˆ¿æºæ•°æ®æ¨¡å‹
- âœ… å®Œæ•´çš„CRUDæ¥å£
- âœ… Excelæ‰¹é‡å¯¼å…¥å¯¼å‡º
- âœ… åˆ†é¡µæŸ¥è¯¢ä¸å¤šæ¡ä»¶ç­›é€‰
- âœ… ç®¡ç†å‘˜Tokenè®¤è¯

### ç®¡ç†åå° (admin/)
- âœ… å“åº”å¼æ•°æ®è¡¨æ ¼ï¼ˆ40åˆ—ï¼‰
- âœ… å®Œæ•´çš„è¡¨å•å½•å…¥ï¼ˆåˆ†ç»„å±•ç¤ºï¼‰
- âœ… æ‰¹é‡å‹¾é€‰å¯¼å‡º
- âœ… Excelæ–‡ä»¶ä¸Šä¼ å¯¼å…¥
- âœ… æœç´¢ä¸çŠ¶æ€ç­›é€‰
- âœ… å•†åŸä¸Šæ¶ç®¡ç†

### H5å•†åŸ (h5/)
- âœ… é‡‘è‰²å“ç‰Œä¸»é¢˜
- âœ… æˆ¿æºå¡ç‰‡åˆ—è¡¨
- âœ… è¯¦ç»†ä¿¡æ¯å±•ç¤º
- âœ… æœç´¢åŠŸèƒ½
- âœ… ä¸‹æ‹‰åˆ·æ–°ä¸ä¸Šæ‹‰åŠ è½½
- âœ… å“åº”å¼ç§»åŠ¨ç«¯è®¾è®¡

## ğŸ”§ æŠ€æœ¯æ ˆ

| æ¨¡å— | æŠ€æœ¯æ ˆ |
|------|--------|
| åç«¯ | Express + TypeScript + MySQL + ExcelJS |
| ç®¡ç†åå° | Vue3 + Element Plus + Axios + Pinia |
| H5å•†åŸ | Vue3 + Vant4 + Axios |
| éƒ¨ç½² | PM2 + Nginx |

## ğŸ“ APIæ–‡æ¡£

è¯¦è§å„æ¨¡å—çš„READMEï¼š
- [åç«¯APIæ–‡æ¡£](./server/README.md)

## ğŸ” é»˜è®¤è´¦å·

- ç®¡ç†åå°ç™»å½•ï¼š
  - ç”¨æˆ·åï¼šadmin
  - å¯†ç ï¼šadmin123
  - Tokenï¼šjintai_admin_2026

## ğŸŒ è®¿é—®åœ°å€ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

- åç«¯API: https://www.jintai.cloud/JTFP/api/
- ç®¡ç†åå°: https://www.jintai.cloud/JTFP/admin/
- H5å•†åŸ: https://www.jintai.cloud/JTFP/h5/

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

### properties è¡¨ï¼ˆæˆ¿æºä¿¡æ¯è¡¨ï¼‰

åŒ…å«ä»¥ä¸‹å­—æ®µåˆ†ç±»ï¼š
1. **åŸºæœ¬ä¿¡æ¯**ï¼šå¼€æ‹æ—¶é—´ã€ç«ä»·é˜¶æ®µã€å°åŒºåç§°ã€è¯¦ç»†åœ°å€ç­‰
2. **æˆ¿å±‹å±æ€§**ï¼šå»ºç­‘é¢ç§¯ã€æˆ·å‹ã€æ¥¼å±‚ã€å¹´ä»½ã€è£…ä¿®ç­‰
3. **ä»·æ ¼ä¿¡æ¯**ï¼šèµ·æ‹ä»·ã€è¯„ä¼°ä»·ã€å¸‚åœºä»·ç­‰
4. **è´·æ¬¾ä¿¡æ¯**ï¼š7/8/9æˆå¯è´·é‡‘é¢
5. **ç¨è´¹ä¿¡æ¯**ï¼šå¥‘ç¨ã€å¢å€¼ç¨ã€ä¸ªç¨
6. **å®¢æˆ·ä¿¡æ¯**ï¼šå§“åã€ç”µè¯ã€ä¸šåŠ¡å‘˜ç­‰
7. **å•†åŸå±•ç¤º**ï¼šä¸Šæ¶çŠ¶æ€ã€æ¨èæ ‡è¯†ã€å°é¢å›¾ç­‰

è¯¦è§ `server/database.sql`

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# PM2ç®¡ç†
pm2 status                    # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 logs                      # æŸ¥çœ‹æ—¥å¿—
pm2 restart jintai-server     # é‡å¯åç«¯
pm2 restart all               # é‡å¯æ‰€æœ‰æœåŠ¡
pm2 stop all                  # åœæ­¢æ‰€æœ‰æœåŠ¡

# æ•°æ®åº“å¤‡ä»½
mysqldump -u root -p jintai_property > backup.sql

# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -tuln | grep -E ':(6000|6001|6002)'
```

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

## ğŸ“„ è®¸å¯è¯

Copyright Â© 2026 é‡‘æ³°èµ„äº§
