<view class="container">
  <!-- ç©ºè´­ç‰©è½¦ -->
  <view class="empty" wx:if="{{items.length == 0}}">
    <text class="empty-icon">ğŸ›’</text>
    <text class="empty-title">è´­ç‰©è½¦è¿˜æ˜¯ç©ºçš„</text>
    <text class="empty-desc">å¿«å»æŒ‘é€‰å¿ƒä»ªçš„å•†å“å§</text>
    <view class="btn-go-home" bindtap="goHome">å»é€›é€›</view>
  </view>

  <!-- è´­ç‰©è½¦åˆ—è¡¨ -->
  <view class="cart-list" wx:else>
    <view class="cart-item" wx:for="{{items}}" wx:key="key">
      <!-- å•†å“å›¾ç‰‡ -->
      <image
        class="item-cover"
        src="{{item.cover_url}}"
        mode="aspectFill"
        data-id="{{item.productId}}"
        bindtap="goProduct"
      />
      
      <!-- å•†å“ä¿¡æ¯ -->
      <view class="item-info">
        <view class="item-header">
          <text class="item-title">{{item.title}}</text>
          <view class="item-delete" data-key="{{item.key}}" bindtap="remove">åˆ é™¤</view>
        </view>
        
        <text class="item-sku" wx:if="{{item.skuTitle}}">{{item.skuTitle}}</text>
        <text class="item-sku welfare" wx:elif="{{item.is_welfare == 1}}">ç¦åˆ©å•†å“</text>
        
        <view class="item-footer">
          <view class="item-price">
            <text class="price-symbol">Â¥</text>
            <text class="price-value">{{item.price_cent / 100}}</text>
          </view>
          
          <!-- æ•°é‡é€‰æ‹©å™¨ - ä½¿ç”¨ view æ›¿ä»£ button -->
          <view class="qty-selector">
            <view 
              class="qty-btn minus {{item.qty <= 1 || item.is_welfare == 1 ? 'disabled' : ''}}" 
              data-key="{{item.key}}" 
              bindtap="{{item.qty > 1 && item.is_welfare != 1 ? 'dec' : ''}}"
              catchtap="dec"
            >
              <text>âˆ’</text>
            </view>
            <view class="qty-num">{{item.qty}}</view>
            <view 
              class="qty-btn plus {{item.is_welfare == 1 ? 'disabled' : ''}}" 
              data-key="{{item.key}}" 
              catchtap="inc"
            >
              <text>+</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨ç»“ç®—æ  -->
  <view class="checkout-bar" wx:if="{{items.length > 0}}">
    <view class="checkout-info">
      <text class="checkout-label">åˆè®¡ï¼š</text>
      <view class="checkout-total">
        <text class="total-symbol">Â¥</text>
        <text class="total-amount">{{totalCent / 100}}</text>
      </view>
    </view>
    <view class="checkout-btn" bindtap="goCheckout">
      <text>å»ç»“ç®—</text>
      <text class="checkout-count">({{items.length}})</text>
    </view>
  </view>

</view>
